<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Learn ES6</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="../style.css">
    <link rel="shortcut icon" href="../../logo-black.png">
  </head>
  <body>
    <main>
      <h1>Understanding ES6</h1>
      <h2>Arrow Function</h2>
      <h3>Pt.1 - How to use Arrow function</h3>
      <ul>
        <li>Arrow function is the type of function which is not required to add function keyword.</li>
        <li>Use <strong>=></strong> for declaration. this is the example below.<br>
            <code>
              (param1, param2, ...paramN) => expression;
            </code>
        </li>
        <li>() is not necessary to add if there was only 1 parameters.</li>
      </ul>
      <h5>Input</h5>
      <pre>
        <code class="prettyprint">
          const array = [1, 2, 3, 4, 5];
          array.foreach(number => console.log(number))
        </code>
      </pre>
      <h5>Output(on console)</h5>
      <pre>
        <code>
          1
          2
          3
          4
          5
        </code>
      </pre>
      <h3>Pt.2 - In case of 2 parameters</h3>
      <p>If there were two or some more parameters, you can't except parenthesis. Also, in case of there's no parameter as well.<br>
      <pre>
        // ÂºïÊï∞„Åå1„Å§„ÇÇ„Å™„ÅÑÂ†¥Âêà„ÇÇ()„ÅØÂøÖÈ†à
        () => console.log("Hello");</pre></p>
      <h4>Example</h4>
      <h5>Input</h5>
      <pre>
        <code class="prettyprint">
          const array = [1, 2, 3, 4, 5];
          array.forEach((number, index) => console.log("index : number => ", index, number));
        </code>
      </pre>
      <h5>Output(on console)</h5>
      <pre>
        <code>
          index : number => 0 1
          index : number => 1 2
          index : number => 2 3
          index : number => 3 4
          index : number => 4 5
        </code>
      </pre>
      <h3>Pt.3 - How to return variable</h3>
      <p>Scope of Let and Const is calling as "Blocked scope" generally.
      Blocked scope is surrounded by <strong>{ }</strong>.<br>
      </p>
      <p></p>
      <h5>Input</h5>
      <pre>
        <code class="prettyprint">
          const array = [1, 2, 3, 4, 5];
          
          //Concise body(Á∞°ÊΩîÊñá‰Ωì)
          const doubleArray1 = array.map(number => number + number);
          console.log(doubleArray1);

          //Block body(„Éñ„É≠„ÉÉ„ÇØÊñá‰Ωì)
          const doubleArray2 = array.map(number => {
            return number + number;
          });
          console.log(doubleArray2);
        </code>
      </pre>
      <h5>Output(on console)</h5>
      <pre>
        <code>
          (5)¬†[2, 4, 6, 8, 10]
          (5)¬†[2, 4, 6, 8, 10]
        </code>
      </pre>
      <h3>Pt.4 - Understanding relationship between arrow function and "this"</h3>
      <p>In the case of an old version JavaScript, "This" might differ depending on where it's called on the function.<br>
      that's why <code>bind()</code> has been installed to keep condition of <code>this()</code> variable from the version of
      ES5.<br>
      but now it's more improving by adding arrow function. Arrow function can be shorten by automatically add <code>this()</code>
      when the <code>=></code> has been added.</code></p>
      <h5>Input</h5>
      <pre>
        <code class="prettyprint">
          function task(callback){
            callback();
          }
          //ES5 or before
          var ES5Chicken = {
            egg: "ü•ö",
            chicken: "üêî",
            wakeup: function(){
              task(function(){
              //in case of "this" displays as undefined. = in case of "this.egg" also displays as undefined.
              //because of that have to set scope to outside of function by "bind()".
                console.log("ES5(cock-a-doodle-doo!)", this.egg, this.chicken);
              }.bind(this));
            }
          }
          ES5Chicken.wakeup();//show output
          
          //ES6
          const ES6Chicken = {
            egg: "ü•ö",
            chicken: "üêî",
            wakeup: function(){
              task(() => {
                console.log("ES6(cock-a-doodle-doo!)", this.egg, this.chicken);
              });
            }
          }
          ES6Chicken.wakeup();//show output
        </code>
      </pre>
      <h5>Output(on console)</h5>
      <pre>
        <code>
          ES5(cock-a-doodle-doo!) ü•ö üêî
          ES6(cock-a-doodle-doo!) ü•ö üêî
        </code>
      </pre>
    </main>
    <footer>
      <ul>
        <li><a href="../01-Introduction/index.html">Introduction</a></li>
        <li>Arrow funciton</li>
        <li><a href="../03-Destructuring/index.html">Destructuring</a></li>
        <li><a href="../04-How-to-pass-value/index.html">How to Pass Value in ES6</a></li>
        <li><a href="../05-Template-Strings/index.html">Template Strings</a></li>
        <li><a href="../06-Expanded Object Properties/index.html">Expanded Object Properties</a></li>
        <li><a href="../07-Classes/index.html">Classes</a></li>
        <li><a href="../08-Promises/index.html">Promises</a></li>
        <li><a href="../09-New-APIs/index.html">New API</a></li>
      </ul>
      <p class="copyright">&copy;SZDP / Kaai Suzuki</p>
    </footer>
    <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
    <script type="text/javascript">
    'use strict';
      /////////arrow function
      ///Common for Pt1 & 2
      const array = [1, 2, 3, 4, 5];
      // console.log(array);//1, 2, 3, 4, 5
      ///Pt.1
        array.forEach(number => console.log(number));
      ///Pt.2
        array.forEach((number, index) => console.log("index : number => ", index, number));
      
      ///Pt.3 - Concise body and Block bod
      //Concise body(Á∞°ÊΩîÊñá‰Ωì)
      const doubleArray1 = array.map(number => number + number);
      console.log(doubleArray1);//Array(5) -> (5)[2, 4, 6, 8, 10]
      //Block body(„Éñ„É≠„ÉÉ„ÇØÊñá‰Ωì)
      const doubleArray2 = array.map(number => {//[, , , , ]
        return number + number;
      });
      console.log(doubleArray2);//(5)[2, 4, 6, 8, 10]

      ///Pt.4 - Arrow function and this
      function task(callback){
        callback();
      }
      //ES5 or before
      var ES5Chicken = {
        egg: "ü•ö",
        chicken: "üêî",
        wakeup: function(){
          task(function(){
            //in case of "this" displays as undefined. = in case of "this.egg" also displays as undefined.
            //because of that have to set scope to outside of function by "bind()".
            console.log("ES5(cock-a-doodle-doo!)", this.egg, this.chicken);
          }.bind(this));
        }
      }
      ES5Chicken.wakeup();//ES5(cock-a-doodle-doo!) ü•ö üêî

      //ES6
      const ES6Chicken = {
        egg: "ü•ö",
        chicken: "üêî",
        wakeup: function(){
          task(() => {  
            console.log("ES6(cock-a-doodle-doo!)", this.egg, this.chicken);
          })
        }
      }
      ES6Chicken.wakeup();//ES6(cock-a-doodle-doo!) ü•ö üêî
    </script>
  </body>
</html>
